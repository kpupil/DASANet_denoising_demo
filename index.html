<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shipsear Denoising Samples</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            background-color: #f7f8fc;
            color: #333;
        }

        h1 {
            color: #333;
            font-size: 2em;
            text-align: center;
            margin: 20px 0;
        }

        table {
            width: 95%;
            margin: 0 auto;
            border-collapse: collapse;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            table-layout: fixed; /* 固定表格布局 */
        }

        th, td {
            padding: 10px; /* 减少内边距以适配屏幕 */
            text-align: center;
            vertical-align: middle;
            border: 1px solid #ddd;
            background-color: #fff;
            border-radius: 8px;
        }

        th {
            background-color: #0078d7;
            color: white;
            font-size: 0.8em;
        }

        th:first-child, td:first-child {
            width: 12%; /* 第一列的相对宽度 */
        }

        td:not(:first-child), th:not(:first-child) {
            width: 12.2%; /* 其他列的相对宽度 */
        }

        td:first-child {
            font-weight: bold;
            text-align: left;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            border-radius: 8px 0 0 8px;
        }

        td:last-child {
            border-radius: 0 8px 8px 0;
        }

        audio {
            display: block;
            width: 100%; /* 音频控件宽度适配单元格 */
            height: 20px; /* 固定高度 */
            border: 1px solid #ccc;
            border-radius: 6px;
            margin: 2px auto; /* 居中 */
        }

        .spectrogram {
            display: block;
            width: 100%; /* 图片宽度适配单元格 */
            height: auto; /* 自动高度 */
            max-height: 285px; /* 限制最大高度 */
            object-fit: contain;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin: 0 auto; /* 居中 */
        }

        tr:hover td {
            background-color: #f0f4ff;
        }

        /* 媒体查询：屏幕宽度小于 768px 时 */
        @media screen and (max-width: 768px) {
            table {
                width: 100%; /* 表格全宽显示 */
            }

            th, td {
                padding: 8px; /* 减少单元格内边距 */
            }

            th:first-child, td:first-child {
                width: 20%; /* 第一列调整宽度 */
            }

            td:not(:first-child), th:not(:first-child) {
                width: 15%; /* 其他列宽度调整 */
            }

            .spectrogram {
                max-height: 200px; /* 限制图片高度 */
            }
        }
    </style>
</head>
<body>
    <h1>Shipsear Denoising Samples</h1>
    <table>
        <thead>
            <tr>
                <th>Audio Files</th>
                <th>Noisy</th>
                <th>Conv-TasNet</th>
                <th>DCCRN</th>
                <th>Demucs</th>
                <th>FullSubNet</th>
                <th>DASANet(Ours)</th>
                <th>Clean</th>
            </tr>
        </thead>
        <tbody id="tableBody">
            <!-- 动态生成内容 -->
        </tbody>
    </table>

    <script>
        const basePaths = {
            audio: 'demo/audio/',
            spec: 'demo/spec/'
        };

        const versions = ['noisy', 'convtasnet', 'dccrn', 'demucs', 'fullsubnet', 'DASANet', 'clean'];
        const audioFiles = [
            'Motorboat_27_36_-5.wav',
            'Musselboat_48_79_-6.wav',
            'Passengers_13_10_-6.wav',
            'Passengers_35_53_-5.wav',
            'Passengers_53_75_-5.wav',
        ];

        const tableBody = document.getElementById('tableBody');

        audioFiles.forEach(file => {
            const row = document.createElement('tr');

            // 第一列：文件名
            const fileNameCell = document.createElement('td');
            fileNameCell.textContent = file;
            row.appendChild(fileNameCell);

            // 其他列：音频按钮和谱图
            versions.forEach(version => {
                const cell = document.createElement('td');
                cell.innerHTML = `
                    <audio controls>
                        <source src="${basePaths.audio}${version}/${file}" type="audio/wav">
                        Your browser does not support the audio element.
                    </audio>
                    <img src="${basePaths.spec}${version}/${file.replace('.wav', '.png')}" alt="Spectrogram" class="spectrogram">
                `;
                row.appendChild(cell);
            });

            tableBody.appendChild(row);
        });
    </script>
</body>
</html>
